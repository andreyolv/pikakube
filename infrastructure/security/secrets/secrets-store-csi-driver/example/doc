https://github.com/saiyam1814/csi-secret-store

https://gist.github.com/vfarcic/f300b3452691346c8028fa62605c9ccc
https://github.com/vfarcic/secrets-store-csi-demo/tree/main/k8s

https://developer.hashicorp.com/vault/tutorials/kubernetes/kubernetes-secret-store-driver
https://github.com/kubernetes-sigs/secrets-store-csi-driver/tree/main/test/bats/tests/vault

kubectl -n vault exec -it vault-0 -- /bin/sh

vault kv put secret/my-pass password="kubernetes"
vault kv get secret/my-pass

vault auth enable kubernetes
vault write auth/kubernetes/config kubernetes_host="https://212.2.244.66:6443"

vault policy write read-only - <<EOF
path "secret/data/my-pass" {
  capabilities = ["read"]
}
EOF

vault write auth/kubernetes/role/mysecret \
    bound_service_account_names=secret-sa \
    bound_service_account_namespaces=secrets-store-csi-driver \
    policies=read-only \
    ttl=20m

cat /mnt/secrets-store/my-password