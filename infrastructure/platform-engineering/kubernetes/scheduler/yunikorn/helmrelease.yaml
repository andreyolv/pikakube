apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: yunikorn
  namespace: yunikorn
spec:
  interval: 5m
  chart:
    spec:
      chart: yunikorn
      version: 1.4.0
      sourceRef:
        kind: HelmRepository
        name: yunikorn
        namespace: flux-system
  values:
  # https://artifacthub.io/packages/helm/yunikorn/yunikorn
  # https://github.com/apache/yunikorn-release/blob/master/helm-charts/yunikorn/values.yaml
    embedAdmissionController: false
    yunikornDefaults: 
      service.clusterId: andreyolv-cluster
      # admissionController.filtering.processNamespaces: teste,teste2
      # queues.yaml: |
      #   partitions:
      #     - name: default
      #       placementrules:
      #         - name: tag
      #           value: namespace
      #           create: true
      #       queues:
      #         - name: root
      #           submitacl: '*'
