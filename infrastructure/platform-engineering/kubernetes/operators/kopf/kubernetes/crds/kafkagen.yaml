apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: kafkagen.kopf.dev
spec:
  scope: Namespaced
  group: kopf.dev
  names:
    kind: KafkaGen
    plural: kafkagens
    singular: kafkagen
    shortNames:
      - kg
  versions:
    - name: v1
      served: true
      storage: true
      subresources: { status: { } }
      schema:
        openAPIV3Schema:
          type: object
          properties:
            spec:
              type: object
              x-kubernetes-preserve-unknown-fields: true
            status:
              type: object
              x-kubernetes-preserve-unknown-fields: true
      additionalPrinterColumns:
        - name: conn-string
          type: string
          priority: 0
          jsonPath: .spec.source.conn-string
          description: Connection String para conectar na fonte de dados
        - name: topic
          type: string
          priority: 0
          jsonPath: .spec.source.topic
          description: Topico no Kafka
        
        - name: records
          type: integer
          priority: 0
          jsonPath: .spec.datagen.records
          description: Quantos registros a serem gerados
        - name: interval
          type: integer
          priority: 0
          jsonPath: .spec.datagen.interval
          description: A cada quanto tempo os registros s√£o gerados
        - name: field
          type: list
          priority: 0
          jsonPath: .spec.datagen.interval
          description: Quais campos a serem gerados

        