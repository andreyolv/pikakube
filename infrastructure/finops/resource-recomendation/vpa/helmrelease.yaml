apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: vpa
  namespace: kube-system
spec:
  interval: 5m
  chart:
    spec:
      chart: vpa
      version: 4.7.2
      sourceRef:
        kind: HelmRepository
        name: fairwinds 
        namespace: flux-system
  values:
  # https://artifacthub.io/packages/helm/fairwinds-stable/vpa
  # https://github.com/FairwindsOps/charts/blob/master/stable/vpa/values.yaml
    #recommender:
    #  extraArgs:
    #    storage: prometheus
    #    prometheus-address: |
    #      http://kube-prometheus-stack-prometheus.monitoring.svc.cluster.local:9090
