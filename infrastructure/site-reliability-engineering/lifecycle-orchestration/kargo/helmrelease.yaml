apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: kargo
  namespace: kargo
spec:
  dependsOn:
  - name: cert-manager
    namespace: cert-manager
  - name: argocd
    namespace: argocd
  - name: argo-rollouts
    namespace: argo-rollouts
  interval: 5m
  chart:
    spec:
      chart: kargo 
      version: 1.1.1
      sourceRef:
        kind: HelmRepository
        name: kargo
        namespace: flux-system
  values:
  # https://artifacthub.io/packages/helm/kargo/kargo
  # https://github.com/akuity/kargo/blob/main/charts/kargo/values.yaml
    api:
      adminAccount:
        passwordHash: xxxxxxxxxxxx
        tokenSigningKey: xxxxxxxxxxx
