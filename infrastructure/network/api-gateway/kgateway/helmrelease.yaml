apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: kgateway-crds
  namespace: kgateway
spec:
  interval: 5m
  chart:
    spec:
      chart: install/helm/kgateway-crds
      sourceRef:
        kind: GitRepository
        name: kgateway
        namespace: flux-system
  values:
  # https://github.com/kgateway-dev/kgateway/blob/main/install/helm/kgateway-crds/values.yaml
---
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: kgateway
  namespace: kgateway
spec:
  dependsOn:
  - name: kgateway-crds
  interval: 5m
  chart:
    spec:
      chart: install/helm/kgateway
      sourceRef:
        kind: GitRepository
        name: kgateway
        namespace: flux-system
  values:
  # https://github.com/kgateway-dev/kgateway/blob/main/install/helm/kgateway/values.yaml
